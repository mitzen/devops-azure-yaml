parameters:
  - name: environment
    displayName: Environment
    type: string
    default: dev

variables:
  # this is runtime
  isMain: $[eq(variables['Build.SourceBranch'], 'refs/heads/main')]
  # this is build time 
  ${{ if eq(parameters.environment, "dev")}}:
      mytargetvalue: 'dev-environment'
  ${{ elseif eq(parameters.environment, "uat") }}:
      mytargetvalue: 'uat-environment'
  ${{ elseif eq(parameters.environment, "prod") }}:
      mytargetvalue: 'prod-environment'
  ${ {else }}:
      mytargetvalue: 'other-environment'

steps:
- script: | 
    echo '$(mytargetvalue)'
